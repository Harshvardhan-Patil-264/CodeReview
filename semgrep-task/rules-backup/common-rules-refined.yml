rules:
  # ==========================================
  # COMMON/GENERIC CODING STANDARDS
  # Language-agnostic best practices
  # ==========================================

  # Rule 1: No TODO Comments Without Context
  - id: common-documentation-todo-with-context
    pattern-either:
      - pattern-regex: '//\s*TODO\s*$'
      - pattern-regex: '#\s*TODO\s*$'
      - pattern-regex: '/\*\s*TODO\s*\*/'
    message: "TODO comments should include context (who, when, what). Format: TODO(author): description"
    languages: [javascript, typescript, python, java, go]
    severity: INFO
    metadata:
      category: documentation

  # Rule 2: No FIXME Comments Without Issue Reference
  - id: common-documentation-fixme-with-issue
    pattern-either:
      - pattern-regex: '//\s*FIXME\s*$'
      - pattern-regex: '#\s*FIXME\s*$'
      - pattern-regex: '/\*\s*FIXME\s*\*/'
    message: "FIXME comments should reference an issue number. Format: FIXME(#123): description"
    languages: [javascript, typescript, python, java, go]
    severity: WARNING
    metadata:
      category: documentation

  # Rule 3: No Commented Out Code
  - id: common-best-practice-no-commented-code
    pattern-regex: '^\s*(//|#)\s*(function|def|class|public|private|protected|if|for|while)\s+'
    message: "Remove commented out code. Use version control instead"
    languages: [javascript, typescript, python, java, go]
    severity: INFO
    metadata:
      category: code-quality

  # Rule 4: No Magic Numbers in Comparisons
  - id: common-best-practice-no-magic-numbers
    pattern-either:
      - pattern: |
          if ($VAR == $NUM) { ... }
      - pattern: |
          if ($VAR > $NUM) { ... }
      - pattern: |
          if ($VAR < $NUM) { ... }
    metavariable-regex:
      metavariable: $NUM
      regex: '^[0-9]{2,}$'
    message: "Avoid magic numbers. Define named constants for better code clarity"
    languages: [javascript, typescript, java, go]
    severity: INFO
    metadata:
      category: readability

  # Rule 5: Functions Should Not Be Too Long
  - id: common-best-practice-function-length
    pattern-regex: '(function|def|func|public|private|protected)\s+\w+[^{]*\{([^}]*\n){50,}'
    message: "Function is too long (>50 lines). Consider breaking it into smaller functions"
    languages: [javascript, typescript, python, java, go]
    severity: WARNING
    metadata:
      category: complexity

  # Rule 6: No Console/Debug Statements in Production Code
  - id: common-best-practice-no-debug-statements
    pattern-either:
      - pattern: console.log(...)
      - pattern: console.debug(...)
      - pattern: print(...)
      - pattern: System.out.println(...)
      - pattern: fmt.Println(...)
    message: "Remove debug/console statements before committing. Use proper logging instead"
    languages: [javascript, typescript, python, java, go]
    severity: WARNING
    metadata:
      category: code-quality
